import*as o from"../node_modules/three/build/three.module.js";import{OBJLoader as b}from"../node_modules/three/examples/jsm/loaders/OBJLoader.js";import{GUI as _}from"../node_modules/dat.gui/build/dat.gui.module.js";import{OrbitControls as S}from"../node_modules/three/examples/jsm/controls/OrbitControls.js";import{TGALoader as j}from"../node_modules/three/examples/jsm/loaders/TGALoader.js";import{FBXLoader as k}from"../node_modules/three/examples/jsm/loaders/FBXLoader.js";const B=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}};B();const x=window.innerWidth,y=window.innerHeight,l=new o.TextureLoader;new b;new j;const F=new k,O=document.querySelector("canvas"),f=new o.WebGLRenderer({canvas:O,antialias:!0});f.setSize(x,y);const c=new o.Scene;c.background=new o.Color(65280);const v=75,P=x/y,z=.1,G=1e4,u=new o.PerspectiveCamera(v,P,z,G);u.position.z=5;const A=new o.AxesHelper(2);c.add(A);const E=new o.AmbientLight(9474192),p=new o.PointLight(16777215,1);p.position.set(4,3,5);c.add(E);c.add(p);const H=new o.PointLightHelper(p,1);c.add(H);const C=new _,m=C.addFolder("PointLight");m.add(p.position,"x",-10,10,1);m.add(p.position,"y",-10,10,1);m.add(p.position,"z",-10,10,1);m.add(p,"intensity",0,10,1);m.add(p,"distance",0,10,1);const w=new S(u,f.domElement);w.maxDistance=9;w.minDistance=3.5;function I(){const n=l.load("/assets/pluto_texture.jpg"),t=l.load("/assets/pluto_bump.jpg"),r=new o.SphereGeometry,a=new o.MeshStandardMaterial({map:n,bumpMap:t,bumpScale:.05});return new o.Mesh(r,a)}const g=I();c.add(g);let i;function R(){const n=r=>{i=r,i.scale.multiplyScalar(.01),c.add(i)},t=r=>{alert(r)};F.load("/assets/UFO_FBX/Low_poly_UFO.FBX",n,void 0,t)}R();function T(n,t,r,a,e){const s=new o.SphereGeometry(n),d=new o.Mesh(s,e);return d.position.set(t,r,a),d}function U(n,t,r,a,e,s){const d=Math.random()*(t-n)+n,h=Math.random()*(a-r)+r,L=Math.random()*(s-e)+e;return new o.Vector3(d,h,L)}function W(n){const t=new o.MeshStandardMaterial({color:16249734}),r=new o.Group;for(let a=0;a<n;a++){let e=U(-6,6,-3,3,-10,10),s=T(.05,e.x,e.y,e.z,t);r.add(s)}return r}const X=W(100);c.add(X);function q(){const n=window.innerWidth,t=window.innerHeight;u.aspect=n/t,u.updateProjectionMatrix(),f.setSize(n,t)}function D(){const n=new o.BoxGeometry(10,10,10),t=[new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_ft.png")}),new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_bk.png")}),new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_up.png")}),new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_dn.png")}),new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_rt.png")}),new o.MeshBasicMaterial({map:l.load("/assets/kurt/space_lf.png")})];return t.forEach(a=>{a.side=o.BackSide}),new o.Mesh(n,t)}const N=D();c.add(N);window.addEventListener("resize",q);function J(n,t,r,a,e){const s=t+Math.cos(n)*e,d=r+Math.sin(n)*e,h=a+Math.cos(n)*e;return new o.Vector3(s,d,h)}function M(){const n=Date.now()*5e-4;if(requestAnimationFrame(M),w.update(),g.rotation.x+=.001,g.rotation.y-=.001,i){const t=J(n,0,0,0,2);(i.position.x>=0&&t.x<=0||i.position.x<=0&&t.x>=0)&&i.up.set(0,-i.up.y,0),i.position.set(t.x,t.y,t.z),i.lookAt(0,0,0),i.rotateY(Math.PI/2),i.rotateZ(-Math.PI/2)}f.render(c,u)}M();
